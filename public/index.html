<!DOCTYPE html>
<html class="mdc-typography">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>HubbleBubble</title>
    <link rel="manifest" href="manifest.json">

    <link href="css/default.css" rel="stylesheet" type="text/css" media="screen">
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.0.0/firebaseui.css" />
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Raleway" rel="stylesheet">
</head>

<body>
    <div id="container" class="app-layout">
        <div id="loading">
            <div id="p2" class=""></div>
        </div>
        <div id="loaded">
            <div id="user-signed-in" style="display: none;">
                <header class="mdc-layout-grid">
                    <section mdc-layout-grid__cell id="selector_section">
                        <select id="template_selector" class="mdc-select"></select>
                    </section>
                    <section mdc-layout-grid__cell id="user_section">
                        <span><button id="sign-out" class="mdc-button  mdc-button--accent">log out</button></span>
                    </section>
                </header>
                <main id="main" class="app-main">
                    <div class="app-container">
                        <div id="hubblePresenter"></div>
                    </div>
                </main>
            </div>
            <div id="user-signed-out" style="display: none;">
                <div id="firebaseui-spa">
                    <div id="firebaseui-container"></div>
                </div>
            </div>
        </div>
    </div>

    <template id="hubbleDocumentTemplate" data-userselectable class="hubbletemplate">
        <div class="hubble hubbleDocumentView">
            <i class="doneToggle mdc-icon-toggle material-icons" onshow="registerSnoozeToggle" role="button" aria-pressed="false" aria-label="Toggle done" tabindex="0" data-toggle-on='{"label": "Done", "content": "check_circle"}' data-toggle-off='{"label": "Undone", "content": "done"}'></i>
            <i class="snoozeToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle snooze" tabindex="0" data-toggle-on='{"label":"Unsnooze", "content": "watch_later"}' data-toggle-off='{"label": "Snooze", "content": "schedule"}'></i>
            <a class="hubblelink" href=""><i class="material-icons">fullscreen</i></a>
            <div contenteditable="true" class="content"></div>
            <div class="children" data-childtemplate="hubbleDocumentTemplate"></div>
        </div>
    </template>

    <template id="hubbleListTemplate" data-userselectable class="hubbletemplate">
        <ul>
            <li class="hubble hubbleListView">
                <p>
                    <span class="content" contenteditable="true"></span>
                    <span class="buttons">
                        <i class="doneToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle done" tabindex="0" data-toggle-on='{"label": "Done", "content": "check_circle"}' data-toggle-off='{"label": "Undone", "content": "done"}'></i>
                        <i class="snoozeToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle snooze" tabindex="0" data-toggle-on='{"label":"Unsnooze", "content": "watch_later"}' data-toggle-off='{"label": "Snooze", "content": "schedule"}'></i>
                    </span>
                </p>
            <ul class="children" data-childtemplate="hubbleListItemTemplate" />
            </li>
        </ul>
    </template>

    <template id="hubbleListItemTemplate" class="hubbletemplate">
        <li class="hubble">
                <p>
                    <span class="content" contenteditable="true"></span>
                    <span class="buttons">
                        <i class="doneToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle done" tabindex="0" data-toggle-on='{"label": "Done", "content": "check_circle"}' data-toggle-off='{"label": "Undone", "content": "done"}'></i>
                        <i class="snoozeToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle snooze" tabindex="0" data-toggle-on='{"label":"Unsnooze", "content": "watch_later"}' data-toggle-off='{"label": "Snooze", "content": "schedule"}'></i>
                        <a class="hubblelink" href=""><i class="material-icons">fullscreen</i></a>
                    </span>
                </p>
            <ul class="children" data-childtemplate="hubbleListItemTemplate"></ul>
        </li>
    </template>

    <template id="hubbleArticleTemplate" data-userselectable class="hubbletemplate">
        <article>
            <div class="hubble">
                <summary class="content" contenteditable="true"></summary>
                <details class="children" data-childtemplate="hubbleDetailsTemplate"></details>
            </div>
        </article>
    </template>

    <template id="hubbleDetailsTemplate" class="hubbletemplate">
        <div class="hubble">
            <summary class="content" contenteditable="true"></summary>
            <details class="children" data-childtemplate="hubbleDetailsTemplate"></details>
        </div>
    </template>

    <template id="cardViewTemplate" data-userselectable class="hubbletemplate">
        <div class="hubble hubbleCardView">
            <div class="hubble_content_container">
                <div class="main-hubble-card">
                    <div class="content mdc-textfield mdc-textfield--multiline" contenteditable="true"></div>   
                </div>
                <i class="doneToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle done" tabindex="0" data-toggle-on='{"label": "Done", "content": "check_circle"}' data-toggle-off='{"label": "Undone", "content": "done"}'></i>
                <i class="snoozeToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle snooze" tabindex="0" data-toggle-on='{"label":"Unsnooze", "content": "watch_later"}' data-toggle-off='{"label": "Snooze", "content": "schedule"}'></i>
            </div>
            <div class="children mdc-layout-grid" data-childtemplate="cardViewChildTemplate">
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-2">
                    <a class="parentlink">
                        <div class="mdc-card special-child" ondragover="check_card_drop(event)" ondrop="card_drop(event)">
                            <section class="mdc-card__primary">
                                <span class="material-icons parentcontent">arrow_upward</span>
                            </section>
                        </div>
                    </a>
                </div>
                <div class="mdc-layout-grid__cell  mdc-layout-grid__cell--span-2">
                    <a class="newhubble_link" href="javascript:navigateToNewChild()">
                        <div class="mdc-card special-child">
                            <section class="mdc-card__primary">
                                <span class="material-icons">add</span>
                            </section>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </template>

    <template id="cardViewChildTemplate" class="hubbletemplate">
        <div class="mdc-layout-grid__cell hubble">
            <div class="mdc-card" draggable="true" ondragstart="card_drag(event)" ondragover="check_card_drop(event)" ondrop="card_drop(event)">
                <a class="hubblelink" href="">
                    <section class="mdc-card__primary">
                        <p class="mdc-card__title"><span class="content"></span></p>
                        <p class="mdc-card__subtitle childcountinfo"><i><span class="child-count"></span></i> active children</p>
                    </section>
                </a>
                    <section class="mdc-card__actions">
                        <i class="doneToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle done" tabindex="0" data-toggle-on='{"label": "Done", "content": "check_circle"}' data-toggle-off='{"label": "Undone", "content": "done"}'></i>
                        <i class="snoozeToggle mdc-icon-toggle material-icons" role="button" aria-pressed="false" aria-label="Toggle snooze" tabindex="0" data-toggle-on='{"label":"Unsnooze", "content": "watch_later"}' data-toggle-off='{"label": "Snooze", "content": "schedule"}'></i>
                    </section>
                </div>
        </div>
    </template>

    <script src="/__/firebase/4.0.0/firebase.js"></script>
    <script src="/__/firebase/init.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.js"></script>
    <script>
        mdc.autoInit()
    </script>

    <script src="https://cdn.firebase.com/libs/firebaseui/2.0.0/firebaseui.js"></script>

    <script src="js/authentication.js"></script>
    <script src="index.js"></script>
</body>

</html>